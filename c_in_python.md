## Какие способы взаимодействовать с кодом, написанным на C, в Python
**ctypes** - стандартная библиотека в питоне, позволяет вызывать функции из скомпилированных .so/.dll файлов
(.so - shared object, .dll - dynamic link library)
# Пример использования:
```c
// file: mylib.c
#include <stdio.h>

int add(int a, int b) {
    return a + b;
}
```
Необходимо скомпилировать в динамическую библиотеку(в которой лежат скомпилированные функции на С/С++,
которые можно использовать из других программ без встраивания их внутрь):
(лично у меня windows, для винды .dll):
```bash
gcc -shared -o mylib.dll mylib.c 
```
gcc -c компилирует в объектный файл, gcc -shared собирает библиотеку

Типы данных: необходимо знать, как сопоставлять типы:
C              Python
int            c_int
double         c_double
char*          c_char_p

Также необходимо знать, как передаются строки, массивы, структуры(допишу позже)

Теперь код в Python:
```python
import ctypes

# Загружаем библиотеку
lib = ctypes.CDLL("./mylib.so")

# Указываем типы аргументов и возвращаемого значения
lib.add.argtypes = (ctypes.c_int, ctypes.c_int)
lib.add.restype = ctypes.c_int

# Вызываем
result = lib.add(5, 7)
print(result)  # 12
```
## Ограничения и проблемы:
1. разные типы данных - легко ошибиться с типами аргументов
2. разные платформы - .so != .dll
3. утечки памяти в С
4. GIL - global Interpreter Lock - Python не может параллельно выполнять код на С, если не освобождать GIL вручную
5. Безопасность - вызовы ctypes могут крашить интерпретатор при ошибках в указателях





